---
# Main task file for cursor role

- name: Include OS-specific variables
  ansible.builtin.include_vars: "{{ ansible_facts.os_family }}.yml"
  tags: ["cursor"]

- name: Include OS-specific installation tasks
  ansible.builtin.include_tasks: "install-{{ ansible_facts.os_family }}.yml"
  tags: ["cursor"]

- name: Setup Cursor settings
  ansible.builtin.include_tasks: setup-settings.yml
  tags: cursor

- name: Install Cursor extensions
  ansible.builtin.include_tasks: install-extensions.yml
  when: cursor_install_extensions | bool
  tags: cursor

- name: Setup MCP configuration
  ansible.builtin.include_tasks: setup-mcp.yml
  when: cursor_mcp_enabled | bool
  tags: ["cursor", "cursor_mcp"]
