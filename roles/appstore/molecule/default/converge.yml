---
- name: Converge
  hosts: all
  tasks:
    - name: Include appstore role
      ansible.builtin.include_role:
        name: appstore
      when: ansible_os_family == 'Darwin'

    - name: Display skip message for non-macOS
      ansible.builtin.debug:
        msg: "App Store role is macOS-only and will be skipped on {{ ansible_os_family }}"
      when: ansible_os_family != 'Darwin'
