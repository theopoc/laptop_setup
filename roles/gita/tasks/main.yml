---
- name: Ensure pip3 is installed
  community.general.homebrew:
    name: python3
    state: present

- name: Install gita via pip3
  ansible.builtin.pip:
    name: gita
    state: present
    extra_args: --user

- name: Create gita config directory
  ansible.builtin.file:
    path: "{{ ansible_env.HOME }}/.config/gita"
    state: directory
    mode: '0755'

- name: Configure gita default settings
  ansible.builtin.template:
    src: gita.yml.j2
    dest: "{{ ansible_env.HOME }}/.config/gita/repo.yml"
    mode: '0644' 